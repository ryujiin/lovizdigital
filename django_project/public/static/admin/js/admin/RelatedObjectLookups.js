function html_unescape(e){return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&#39;/g,"'"),e=e.replace(/&amp;/g,"&")}function id_to_windowname(e){return e=e.replace(/\./g,"__dot__"),e=e.replace(/\-/g,"__dash__")}function windowname_to_id(e){return e=e.replace(/__dot__/g,"."),e=e.replace(/__dash__/g,"-")}function showAdminPopup(e,n){var o=e.id.replace(n,"");o=id_to_windowname(o);var t=e.href;t+=-1==t.indexOf("?")?"?_popup=1":"&_popup=1";var a=window.open(t,o,"height=500,width=800,resizable=yes,scrollbars=yes");return a.focus(),!1}function showRelatedObjectLookupPopup(e){return showAdminPopup(e,/^lookup_/)}function dismissRelatedLookupPopup(e,n){var o=windowname_to_id(e.name),t=document.getElementById(o);-1!=t.className.indexOf("vManyToManyRawIdAdminField")&&t.value?t.value+=","+n:document.getElementById(o).value=n,e.close()}function showRelatedObjectPopup(e){var n=e.id.replace(/^(change|add|delete)_/,"");n=id_to_windowname(n);var o=e.href,t=window.open(o,n,"height=500,width=800,resizable=yes,scrollbars=yes");return t.focus(),!1}function dismissAddRelatedObjectPopup(e,n,o){n=html_unescape(n),o=html_unescape(o);var t,a=windowname_to_id(e.name),d=document.getElementById(a);if(d){var i=d.nodeName.toUpperCase();"SELECT"==i?(t=new Option(o,n),d.options[d.options.length]=t,t.selected=!0):"INPUT"==i&&(-1!=d.className.indexOf("vManyToManyRawIdAdminField")&&d.value?d.value+=","+n:d.value=n),django.jQuery(d).trigger("change")}else{var s=a+"_to";t=new Option(o,n),SelectBox.add_to_cache(s,t),SelectBox.redisplay(s)}e.close()}function dismissChangeRelatedObjectPopup(e,n,o,t){n=html_unescape(n),o=html_unescape(o);var a=windowname_to_id(e.name).replace(/^edit_/,""),d=interpolate("#%s, #%s_from, #%s_to",[a,a,a]),i=django.jQuery(d);i.find("option").each(function(){this.value==n&&(this.innerHTML=o,this.value=t)}),e.close()}function dismissDeleteRelatedObjectPopup(e,n){n=html_unescape(n);var o=windowname_to_id(e.name).replace(/^delete_/,""),t=interpolate("#%s, #%s_from, #%s_to",[o,o,o]),a=django.jQuery(t);a.find("option").each(function(){this.value==n&&django.jQuery(this).remove()}).trigger("change"),e.close()}showAddAnotherPopup=showRelatedObjectPopup,dismissAddAnotherPopup=dismissAddRelatedObjectPopup;