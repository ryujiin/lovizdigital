define(["jquery","underscore","backbone","swig","../../views/catalogo/titulo_catalogo","../../views/app/breadcrumb","../../views/catalogo/bloque_categorias","../../views/catalogo/catalogo","../../views/catalogo/bloque_colores","../../views/catalogo/imagen_catalogo","../../views/app/header"],function(e,o,t,a,r,i,l,n,c,s,d){"use strict";var u=t.View.extend({el:e("#contenido"),template:a.compile(e("#page_catalogo_template").html()),tagName:"div",id:"",className:"",events:{},initialize:function(){},render:function(e,o){this.$el.html(this.template()),this.slug=e.toJSON().slug,this.crear_titulo(e,o),this.crear_bloque_busqueda(e),this.addBread(e,o),this.crear_bloque_Categoria(e,o),this.crear_bloque_colores()},crear_bloque_busqueda:function(e){var o=new n({el:this.$(".resultados")});o.buscar_productos(e.toJSON().slug)},crear_titulo:function(e,o){var t=this.get_titulo(e,o),a=new r({model:t,el:this.$(".titulo-categoria")}),i=(new s({model:t,el:this.$(".imagen_categoria")}),d);if(null===t.toJSON().titulo_seo)var a=t.toJSON().nombre+" | Loviz DelCarpio® :: lovizdc.com.";else var a=t.toJSON().titulo_seo+" | Loviz DelCarpio® :: lovizdc.com.";i.render(a,t.toJSON().descripcion)},get_titulo:function(e,o){if(e.toJSON().padre){var t=o.findWhere({slug:e.toJSON().padre});if(e.set({nombre1:t.toJSON().nombre}),t.toJSON().padre){var a=o.findWhere({slug:t.toJSON().padre});e.set({nombre2:a.toJSON().nombre})}}return e},addBread:function(o,t){var a=new i({el:e(".nav-breadcrumb")});if(a.collection.add([{nombre:"Home",link:"/"}]),o.toJSON().padre){var r=t.findWhere({slug:o.toJSON().padre});if(r.toJSON().padre)var l=t.findWhere({slug:r.toJSON().padre})}l&&a.collection.add([{nombre:l.toJSON().nombre,link:l.toJSON().link}]),r&&a.collection.add([{nombre:r.toJSON().nombre,link:r.toJSON().link}]),a.collection.add([{nombre:o.toJSON().nombre}]),a.render()},crear_bloque_Categoria:function(o,t){new l({el:e("#refinamientoCategoria"),model:o,collection:t})},crear_bloque_colores:function(){new c({el:this.$(".refinement.Color")})}}),m=new u;return m});