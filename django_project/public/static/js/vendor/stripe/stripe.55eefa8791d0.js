/*! stripe-js 19-11-2015 */

(function(){var e,t,r,n,i,o,a,s,c,u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};if(a="https://js.stripe.com",r="https://js.stripe.com",n=/stripe\.com$/.test("undefined"!=typeof window&&null!==window?window.location.host:void 0)?!0:!1,t="console"in window&&"warn"in window.console,!n&&"querySelectorAll"in document&&t&&(o=document.querySelectorAll('script[src^="'+a+'"]'),o.length||console.warn("It looks like Stripe.js is not being loaded from https://js.stripe.com. Stripe does not support serving Stripe.js from your own domain.")),this.Stripe)return!t||this.Stripe.isDoubleLoaded||this.Stripe.earlyError||console.warn("It looks like Stripe.js was loaded more than one time. Please only load it once per page."),void(this.Stripe.isDoubleLoaded=!0);this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._language="en-US",e.setLanguage=function(t){return e._language=t},e._allowedCustomHeaders=["X-Stripe-Livemode","Authorization"],e._customHeaders={},e._setCustomHeader=function(e,t){var r,n,i,o,a;for(n=!1,a=this._allowedCustomHeaders,i=0,o=a.length;o>i;i++)if(r=a[i],r===e){this._customHeaders[e]=t,n=!0;break}return n},e.trackPerf=!1,e._isChannel="#__stripe_transport__"===("undefined"!=typeof window&&null!==window?window.location.hash:void 0)?!0:!1,e._isSafeStripeDomain=n,e._iframeOnAmount=1,e._isSafeDomain=function(){return"#__forcedss3__"===window.location.hash?!1:e._isSafeStripeDomain||window.StripeTemporaryNoDSS3?!0:e._iframeOnAmount<Math.random()}(),e._finalTransport="undefined"!=typeof window&&null!==window&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e._transport=e._isChannel||e._isSafeDomain?e._finalTransport:"iframe",e._fallBackToOldStripeJsTechniques=function(){return this._transport="jsonp",this._finalTransport="jsonp",this._isSafeDomain="true"},e._iframeRequestQueue=[],e._iframePendingRequests={},e._iframeChannelStatus="pending",e._iframeChannelComplete=function(t){var r,n,i,o;for(this._iframeChannelStatus=t?"success":"failure","failure"===this._iframeChannelStatus&&this._fallBackToOldStripeJsTechniques(),n=this._iframeRequestQueue,delete this._iframeRequestQueue,this._iframeRequestQueue=[],i=0,o=n.length;o>i;i++)r=n[i],this.request(r,!0);this._iframeChannelComplete=function(){return e.reportError("CompleteDuplicationError")}},e.request=function(e,t){return this.trackPerf&&e.tokenType?this._instrumentedRequest(e,t):this._rawRequest(e,t)},e._rawRequest=function(t,r){var n,i,o;if(i="POST"===t.method&&(null!=(o=t.data)?o.card:void 0),r||(t.data.payment_user_agent?this._isChannel||(t.data.payment_user_agent=""+t.data.payment_user_agent+" ("+e.stripejs_ua+")"):t.data.payment_user_agent=e.stripejs_ua),"iframe"===this._transport){if(i)return"pending"===this._iframeChannelStatus?this._iframeRequestQueue.push(t):"failure"===this._iframeChannelStatus?this.ajaxJSONP(t):this.iframe(t);if("cors"===this._finalTransport)try{return this.xhr(t)}catch(a){return n=a,this._transport="jsonp",this.request(t,!0)}return this.ajaxJSONP(t)}if("cors"===this._transport)try{return this.xhr(t)}catch(a){return n=a,e.reportError("XhrThrewError"),this._transport="jsonp",this.request(t,!0)}return this.ajaxJSONP(t)},e.reportError=function(t,r){var n;return"console"in window&&"warn"in window.console,n=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+encodeURIComponent(t)+(r?"&timing="+r:"")+"&key="+e.key+"&timestamp="+n+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua)},e._instrumentedRequest=function(t,r){var n,i;return n=(new Date).getTime(),i=function(r){return function(i,o){var a,s,c,u,l;return u=null!=(l=t.tokenType)?l:"unknown",a=(new Date).getTime(),s=r._getResourceTiming(null!=i?i.responseURL:void 0),c={event:"rum.stripejs",tokenType:u,url:t.url,status:o,start:n,end:a,resourceTiming:s},e.logRUM(c)}}(this),t.success=function(e){return function(t,r,n){return i(n,r),e.apply(this,arguments)}}(t.success),t.complete=function(e){return function(t,r){return"success"!==t&&i(r,t),e.apply(this,arguments)}}(t.complete),this._rawRequest(t,r)},e._getResourceTiming=function(e){var t;switch(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.getEntriesByName?performance.getEntriesByName(e):void 0,!1){case 1!==(null!=t?t.length:void 0):return this._sanitizeResourceTiming(t[0]);case 0!==(null!=t?t.length:void 0):return{errorMsg:"No resource timing entries found"};case null==(null!=t?t.length:void 0):return{errorMsg:"More than one resource timing entry"};default:return null}},e._resourceTimingWhitelist=["connectEnd","connectStart","domainLookupEnd","domainLookupStart","duration","fetchStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","startTime"],e._sanitizeResourceTiming=function(e){var t,r,n,i,o;for(r={},o=this._resourceTimingWhitelist,n=0,i=o.length;i>n;n++)t=o[n],e[t]&&(r[t]=e[t]);return r},e.logRUM=function(t){return(new Image).src="https://q.stripe.com/?"+e.utils.serialize(t)},e.complete=function(t,r){return function(n){return"success"!==n?(e.reportError("Complete500-"+n),"function"==typeof t?t(500,{error:{code:n,type:n,message:r}}):void 0):void 0}},e._iframeBaseUrl=r,e._stripejsBaseUrl=a,e._relayResponse=function(t,r,n){return e._socket.postMessage(e.JSON.stringify({code:r,resp:n,requestId:t}))},e._callCount=0,e._callCache={},e._receiveChannelRelay=function(t,r){var n,i,o,a;if(o=e._iframeBaseUrl.replace(/^https?:\/\//,"").replace(/\/.*$/,""),a=r.replace(/^https?:\/\//,"").replace(/\/.*$/,""),a===o&&"string"==typeof t){try{i=e.JSON.parse(t)}catch(s){throw n=s,e.reportError("InvalidJSON-ChannelRelay"),new Error("Stripe.js received invalid JSON")}if("function"==typeof e._callCache[i.requestId])return e._callCache[i.requestId](i.resp,i.code),delete e._callCache[i.requestId]}},e._channelListener=function(t){var r,n,i,o;if("string"==typeof t){try{o=e.JSON.parse(t)}catch(a){throw n=a,e.reportError("InvalidJSON-ChannelListener"),new Error("Stripe.js received invalid JSON")}if(r=o.data.card,delete o.data.card,i=o.headers["Accept-Language"],r)return e.setPublishableKey(o.data.key),i&&e.setLanguage(i),null!=o.endpoint&&(e.endpoint=o.endpoint),null!=o.trackPerf&&(e.trackPerf=o.trackPerf),e.card.createToken(r,o.data,function(t,r){return e._relayResponse(o.requestId,t,r)});throw e.reportError("InvalidChannelUse-NonCard"),new Error("Stripe.js iframe transport used for non-card request")}},e}(),this.Stripe.token=function(){function e(){}return e.validate=function(e,t){if(!e)throw t+" required";if("object"!=typeof e)throw t+" invalid"},e.formatData=function(e,t){var r,n,i;Stripe.utils.isElement(e)&&(e=Stripe.utils.paramsFromForm(e,t));for(r in e)n=e[r],null==n&&delete e[r];return Stripe.utils.underscoreKeys(e),"string"==typeof e.exp&&(i=Stripe.utils.parseExpString(e.exp),e.exp_month=i[0],e.exp_year=i[1],delete e.exp),e},e.create=function(e,t){var r,n;return e.key||(e.key=Stripe.key||Stripe.publishableKey),Stripe.utils.validateKey(e.key),n=function(){switch(!1){case null==e.card:return"card";case null==e.bank_account:return"bank_account";default:return"unknown"}}(),r={url:""+Stripe.endpoint+"/tokens",data:e,method:"POST",headers:{},success:function(e,r){return"function"==typeof t?t(r,e):void 0},complete:Stripe.complete(t,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4,tokenType:n},Stripe._language&&(r.headers["Accept-Language"]=Stripe._language),Stripe.request(r)},e.get=function(e,t){if(!e)throw new Error("token required");return Stripe.utils.validateKey(Stripe.key),Stripe.request({url:""+Stripe.endpoint+"/tokens/"+e,data:{key:Stripe.key},success:function(e,r){return"function"==typeof t?t(r,e):void 0},complete:Stripe.complete(t,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},e}(),this.Stripe.card=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.tokenName="card",t.whitelistedAttrs=["number","cvc","exp","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country","currency"],t.createToken=function(e,r,n){var i;return null==r&&(r={}),Stripe.token.validate(e,"card"),"function"==typeof r?(n=r,r={}):"object"!=typeof r&&(i=parseInt(r,10),r={},i>0&&(r.amount=i)),r[t.tokenName]=Stripe.token.formatData(e,t.whitelistedAttrs),Stripe.token.create(r,n)},t.getToken=function(e,t){return Stripe.token.get(e,t)},t.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&t.luhnCheck(e)},t.validateCVC=function(e){return e=Stripe.utils.trim(e),/^\d+$/.test(e)&&e.length>=3&&e.length<=4},t.validateExpiry=function(e,t){var r,n,i,o;if(null!=t)i=Stripe.utils.trim(e),t=Stripe.utils.trim(t);else{try{o=Stripe.utils.parseExpString(e),i=o[0],t=o[1]}catch(a){return!1}i+="",t+=""}return/^\d+$/.test(i)&&/^\d+$/.test(t)&&i>=1&&12>=i?(2===t.length&&(t=70>t?"20"+t:"19"+t),4!==t.length?!1:(n=new Date(t,i),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r)):!1},t.luhnCheck=function(e){var t,r,n,i,o,a;for(n=!0,i=0,r=(e+"").split("").reverse(),o=0,a=r.length;a>o;o++)t=r[o],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},t.cardType=function(e){return t.cardTypes[e.slice(0,2)]||"Unknown"},t.cardBrand=function(e){return t.cardType(e)},t.cardTypes=function(){var e,t,r,n;for(t={},e=r=40;49>=r;e=++r)t[e]="Visa";for(e=n=50;59>=n;e=++n)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),t}(this.Stripe.token),this.Stripe.bankAccount=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.tokenName="bank_account",t.whitelistedAttrs=["country","currency","routing_number","account_number","name","account_holder_type"],t.createToken=function(e,r,n){return null==r&&(r={}),Stripe.token.validate(e,"bank account"),"function"==typeof r&&(n=r,r={}),r[t.tokenName]=Stripe.token.formatData(e,t.whitelistedAttrs),Stripe.token.create(r,n)},t.getToken=function(e,t){return Stripe.token.get(e,t)},t.validateRoutingNumber=function(e,r){switch(e=Stripe.utils.trim(e),r){case"US":return/^\d+$/.test(e)&&9===e.length&&t.routingChecksum(e);case"CA":return/\d{5}\-\d{3}/.test(e)&&9===e.length;default:return!0}},t.validateAccountNumber=function(e,t){switch(e=Stripe.utils.trim(e),t){case"US":return/^\d+$/.test(e)&&e.length>=1&&e.length<=17;default:return!0}},t.routingChecksum=function(e){var t,r,n,i,o,a;for(n=0,t=(e+"").split(""),a=[0,3,6],i=0,o=a.length;o>i;i++)r=a[i],n+=3*parseInt(t[r]),n+=7*parseInt(t[r+1]),n+=parseInt(t[r+2]);return 0!==n&&n%10===0},t}(this.Stripe.token),this.Stripe.bitcoinReceiver=function(){function e(){}return e._whitelistedAttrs=["amount","currency","email","description"],e.createReceiver=function(e,t){var r;return Stripe.token.validate(e,"bitcoin_receiver data"),r=Stripe.token.formatData(e,this._whitelistedAttrs),r.key=Stripe.key||Stripe.publishableKey,Stripe.utils.validateKey(r.key),Stripe.request({url:""+Stripe.endpoint+"/bitcoin/receivers",data:r,method:"POST",success:function(e,r){return"function"==typeof t?t(r,e):void 0},complete:Stripe.complete(t,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},e.getReceiver=function(e,t){var r;if(!e)throw new Error("receiver id required");return r=Stripe.key||Stripe.publishableKey,Stripe.utils.validateKey(r),Stripe.request({url:""+Stripe.endpoint+"/bitcoin/receivers/"+e,data:{key:r},success:function(e,r){return"function"==typeof t?t(r,e):void 0},complete:Stripe.complete(t,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},e._activeReceiverPolls={},e._clearReceiverPoll=function(t){return delete e._activeReceiverPolls[t]},e._pollInterval=1500,e.pollReceiver=function(e,t){if(null!=this._activeReceiverPolls[e])throw new Error("You are already polling receiver "+e+". Please cancel that poll before polling it again.");return this._activeReceiverPolls[e]={},this._pollReceiver(e,t)},e._pollReceiver=function(t,r){e.getReceiver(t,function(n,i){var o,a;return null!=e._activeReceiverPolls[t]?200===n&&i.filled?(e._clearReceiverPoll(t),"function"==typeof r?r(n,i):void 0):n>=400&&500>n?(e._clearReceiverPoll(t),"function"==typeof r?r(n,i):void 0):(o=500===n?5e3:e._pollInterval,a=setTimeout(function(){return e._pollReceiver(t,r)},o),e._activeReceiverPolls[t].timeoutId=a):void 0})},e.cancelReceiverPoll=function(t){var r;if(r=e._activeReceiverPolls[t],null==r)throw new Error("You are not polling receiver "+t+".");null!=r.timeoutId&&clearTimeout(r.timeoutId),e._clearReceiverPoll(t)},e}(),e=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(s=0,c=e.length;c>s;s++)i=e[s],this.Stripe[i]=this.Stripe.card[i];this.Stripe.stripejs_ua="stripe.js/a722f16","undefined"!=typeof module&&null!==module&&(module.exports=this.Stripe),"function"==typeof define&&define("stripe",[],function(e){return function(){return e.Stripe}}(this))}).call(this),function(){this.Stripe.isDoubleLoaded||function(e){function t(e,i){function o(e){if(o[e]!==g)return o[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=o("json-stringify")&&o("json-parse");else{var r,n='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=i.stringify,l="function"==typeof c&&_;if(l){(r=function(){return 1}).toJSON=r;try{l="0"===c(0)&&"0"===c(new a)&&'""'==c(new s)&&c(y)===g&&c(g)===g&&c()===g&&"1"===c(r)&&"[1]"==c([r])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,y,null])&&c({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==n&&"1"===c(null,r)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(p){l=!1}}t=l}if("json-parse"==e){var f=i.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){r=f(n);var d=5==r.a.length&&1===r.a[0];if(d){try{d=!f('"	"')}catch(p){}if(d)try{d=1!==f("01")}catch(p){}if(d)try{d=1!==f("1.")}catch(p){}}}}catch(p){d=!1}t=d}}return o[e]=!!t}e||(e=n.Object()),i||(i=n.Object());var a=e.Number||n.Number,s=e.String||n.String,c=e.Object||n.Object,u=e.Date||n.Date,l=e.SyntaxError||n.SyntaxError,p=e.TypeError||n.TypeError,f=e.Math||n.Math,d=e.JSON||n.JSON;"object"==typeof d&&d&&(i.stringify=d.stringify,i.parse=d.parse);var h,m,g,v=c.prototype,y=v.toString,_=new u(-0xc782b5b800cec);try{_=-109252==_.getUTCFullYear()&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(S){}if(!o("json")){var w="[object Function]",b="[object Date]",k="[object Number]",T="[object String]",C="[object Array]",E="[object Boolean]",j=o("bug-string-char-index");if(!_)var A=f.floor,q=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(e,t){return q[t]+365*(e-1970)+A((e-1969+(t=+(t>1)))/4)-A((e-1901+t)/100)+A((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=y?h=function(e){var t=this.__proto__,r=e in(this.__proto__=null,this);return this.__proto__=t,r}:(t=r.constructor,h=function(e){var r=(this.constructor||t).prototype;return e in this&&!(e in r&&this[e]===r[e])}),r=null,h.call(this,e)}),m=function(e,t){var n,i,o,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(o in i)h.call(i,o)&&a++;return n=i=null,a?m=2==a?function(e,t){var r,n={},i=y.call(e)==w;for(r in e)i&&"prototype"==r||h.call(n,r)||!(n[r]=1)||!h.call(e,r)||t(r)}:function(e,t){var r,n,i=y.call(e)==w;for(r in e)i&&"prototype"==r||!h.call(e,r)||(n="constructor"===r)||t(r);(n||h.call(e,r="constructor"))&&t(r)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,o,a=y.call(e)==w,s=!a&&"function"!=typeof e.constructor&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)a&&"prototype"==n||!s.call(e,n)||t(n);for(o=i.length;n=i[--o];s.call(e,n)&&t(n));}),m(e,t)},!o("json-stringify")){var R={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x="000000",N=function(e,t){return(x+(t||0)).slice(-e)},O="\\u00",D=function(e){for(var t='"',r=0,n=e.length,i=!j||n>10,o=i&&(j?e.split(""):e);n>r;r++){var a=e.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=R[a];break;default:if(32>a){t+=O+N(2,a.toString(16));break}t+=i?o[r]:e.charAt(r)}}return t+'"'},P=function(e,t,r,n,i,o,a){var s,c,u,l,f,d,v,_,S,w,j,q,R,x,O,M;try{s=t[e]}catch(L){}if("object"==typeof s&&s)if(c=y.call(s),c!=b||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=k&&c!=T&&c!=C||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(I){for(f=A(s/864e5),u=A(f/365.2425)+1970-1;I(u+1,0)<=f;u++);for(l=A((f-I(u,0))/30.42);I(u,l+1)<=f;l++);f=1+f-I(u,l),d=(s%864e5+864e5)%864e5,v=A(d/36e5)%24,_=A(d/6e4)%60,S=A(d/1e3)%60,w=d%1e3}else u=s.getUTCFullYear(),l=s.getUTCMonth(),f=s.getUTCDate(),v=s.getUTCHours(),_=s.getUTCMinutes(),S=s.getUTCSeconds(),w=s.getUTCMilliseconds();s=(0>=u||u>=1e4?(0>u?"-":"+")+N(6,0>u?-u:u):N(4,u))+"-"+N(2,l+1)+"-"+N(2,f)+"T"+N(2,v)+":"+N(2,_)+":"+N(2,S)+"."+N(3,w)+"Z"}else s=null;if(r&&(s=r.call(t,e,s)),null===s)return"null";if(c=y.call(s),c==E)return""+s;if(c==k)return s>-1/0&&1/0>s?""+s:"null";if(c==T)return D(""+s);if("object"==typeof s){for(x=a.length;x--;)if(a[x]===s)throw p();if(a.push(s),j=[],O=o,o+=i,c==C){for(R=0,x=s.length;x>R;R++)q=P(R,s,r,n,i,o,a),j.push(q===g?"null":q);M=j.length?i?"[\n"+o+j.join(",\n"+o)+"\n"+O+"]":"["+j.join(",")+"]":"[]"}else m(n||s,function(e){var t=P(e,s,r,n,i,o,a);t!==g&&j.push(D(e)+":"+(i?" ":"")+t)}),M=j.length?i?"{\n"+o+j.join(",\n"+o)+"\n"+O+"}":"{"+j.join(",")+"}":"{}";return a.pop(),M}};i.stringify=function(e,t,n){var i,o,a,s;if(r[typeof t]&&t)if((s=y.call(t))==w)o=t;else if(s==C){a={};for(var c,u=0,l=t.length;l>u;c=t[u++],s=y.call(c),(s==T||s==k)&&(a[c]=1));}if(n)if((s=y.call(n))==k){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==T&&(i=n.length<=10?n:n.slice(0,10));return P("",(c={},c[""]=e,c),o,a,i,"",[])}}if(!o("json-parse")){var M,L,F=s.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw M=L=null,l()},B=function(){for(var e,t,r,n,i,o=L,a=o.length;a>M;)switch(i=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=j?o.charAt(M):o[M],M++,e;case 34:for(e="@",M++;a>M;)if(i=o.charCodeAt(M),32>i)H();else if(92==i)switch(i=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=U[i],M++;break;case 117:for(t=++M,r=M+4;r>M;M++)i=o.charCodeAt(M),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||H();e+=F("0x"+o.slice(t,M));break;default:H()}else{if(34==i)break;for(i=o.charCodeAt(M),t=M;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++M);e+=o.slice(t,M)}if(34==o.charCodeAt(M))return M++,e;H();default:if(t=M,45==i&&(n=!0,i=o.charCodeAt(++M)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(M+1),i>=48&&57>=i)&&H(),n=!1;a>M&&(i=o.charCodeAt(M),i>=48&&57>=i);M++);if(46==o.charCodeAt(M)){for(r=++M;a>r&&(i=o.charCodeAt(r),i>=48&&57>=i);r++);r==M&&H(),M=r}if(i=o.charCodeAt(M),101==i||69==i){for(i=o.charCodeAt(++M),(43==i||45==i)&&M++,r=M;a>r&&(i=o.charCodeAt(r),i>=48&&57>=i);r++);r==M&&H(),M=r}return+o.slice(t,M)}if(n&&H(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;H()}return"$"},$=function(e){var t,r;if("$"==e&&H(),"string"==typeof e){if("@"==(j?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=B(),"]"!=e;r||(r=!0))r&&(","==e?(e=B(),"]"==e&&H()):H()),","==e&&H(),t.push($(e));return t}if("{"==e){for(t={};e=B(),"}"!=e;r||(r=!0))r&&(","==e?(e=B(),"}"==e&&H()):H()),(","==e||"string"!=typeof e||"@"!=(j?e.charAt(0):e[0])||":"!=B())&&H(),t[e.slice(1)]=$(B());return t}H()}return e},J=function(e,t,r){var n=z(e,t,r);n===g?delete e[t]:e[t]=n},z=function(e,t,r){var n,i=e[t];if("object"==typeof i&&i)if(y.call(i)==C)for(n=i.length;n--;)J(i,n,r);else m(i,function(e){J(i,e,r)});return r.call(e,t,i)};i.parse=function(e,t){var r,n;return M=0,L=""+e,r=$(B()),"$"!=B()&&H(),M=L=null,t&&y.call(t)==w?z((n={},n[""]=r,n),"",t):r}}}return i.runInContext=t,i}var r={"function":!0,object:!0},n=this,i=t(e,n);n.JSON={parse:i.parse,stringify:i.stringify}}.call(Stripe,this)}.call(this),function(){this.Stripe.isDoubleLoaded||!function(e,t,r,n,i,o){function a(e,t){var r=typeof e[t];return"function"==r||!("object"!=r||!e[t])||"unknown"==r}function s(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!m(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var r=navigator.plugins[e].description;r&&!m(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(k=r.match(/\d+/g))}if(!k){var n;try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),k=Array.prototype.slice.call(n.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),n=null}catch(i){}}if(!k)return!1;var o=parseInt(k[0],10),a=parseInt(k[1],10);return T=o>9&&a>0,!0}function c(){if(!M){M=!0;for(var e=0;e<L.length;e++)L[e]();L.length=0}}function u(e,t){return M?void e.call(t):void L.push(function(){e.call(t)})}function l(e){return e.match(q)[3]}function p(e){return e.match(q)[4]||""}function f(e){var t,r,n=e.toLowerCase().match(q),i="",o="";try{t=n[2],r=n[3],i=n[4]||"",("http:"==t&&":80"==i||"https:"==t&&":443"==i)&&(i=""),o=t+"//"+r+i}catch(a){o=e}return o}function d(e){if(e=e.replace(R,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":r.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=r.protocol+"//"+r.host+t+e}for(;I.test(e);)e=e.replace(I,"");return e}function h(e,t){var r="",n=e.indexOf("#");-1!==n&&(r=e.substring(n),e=e.substring(0,n));var i,a=[];for(var s in t)t.hasOwnProperty(s)&&(i="stripe_"+s,a.push(i+"="+o(t[s])));return e+(D?"#":-1==e.indexOf("?")?"?":"&")+a.join("&")+r}function m(e){return"undefined"==typeof e}function g(e,t,r){var n;for(var i in t)t.hasOwnProperty(i)&&(i in e?(n=t[i],"object"==typeof n?g(e[i],n,r):r||(e[i]=t[i])):e[i]=t[i]);return e}function v(){var e=t.body.appendChild(t.createElement("form")),r=e.appendChild(t.createElement("input"));r.name=O+"TEST"+A,b=r!==e.elements[r.name],t.body.removeChild(e)}function y(r){m(b)&&v();var i;b?i=t.createElement('<iframe name="'+r.props.name+'"/>'):(i=t.createElement("IFRAME"),i.name=r.props.name),i.id=i.name=r.props.name,delete r.props.name,"string"==typeof r.container&&(r.container=t.getElementById(r.container)),r.container||(g(i.style,{position:"absolute",top:"-2000px",left:"0px"}),r.container=t.body);var o=r.props.src;r.props.src="about:blank",g(i,r.props),i.border=i.frameBorder=0,i.allowTransparency=!0;var a=!1;return r.onFrameAck&&"postMessage"in e&&e.addEventListener?e.addEventListener("message",function(e){var t=Stripe._iframeBaseUrl.replace(/^https?:\/\//,"").replace(/\/.*$/,""),n=e.origin.replace(/^https?:\/\//,"").replace(/\/.*$/,"");t===n&&"stripe:ack"===e.data&&r.onFrameAck(!0)},!1):a=!0,r.container.appendChild(i),r.onLoad&&C(i,"load",function(){r.onLoad.apply(r,arguments),a&&r.onFrameAck(!1)}),r.onError&&C(i,"error",function(){r.onError.apply(r,arguments)}),i.src=o,r.onAsyncInject&&n(function(){r.onAsyncInject.call(r,i)},5e3),r.props.src=o,i}function _(r){var n,i=r.protocol;if(r.isHost=r.isHost||m(U.xdm_p),D=r.hash||!1,r.props||(r.props={}),r.isHost){if(r.remote=d(r.remote),r.channel=r.channel||"default"+A++,r.secret=Math.random().toString(16).substring(2),m(i))if(a(e,"postMessage")||a(t,"postMessage"))i="1";else{if(!(r.swf&&a(e,"ActiveXObject")&&s()))throw new Error("No suitable transport protocol for Stripe.js");i="6"}}else r.channel=U.xdm_c.replace(/["'<>\\]/g,""),r.secret=U.xdm_s,r.remote=U.xdm_e.replace(/["'<>\\]/g,""),i=U.xdm_p;switch(r.protocol=i,i){case"1":n=[new N.stack.PostMessageTransport(r)];break;case"6":k||s(),n=[new N.stack.FlashTransport(r)]}return n?(n.push(new N.stack.QueueBehavior({lazy:r.lazy,remove:!0})),n):void r.onInternalError.call(r,"BadXDMProtocol")}function S(e){for(var t,r={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},n=0,i=e.length;i>n;n++)t=e[n],g(t,r,!0),0!==n&&(t.down=e[n-1]),n!==i-1&&(t.up=e[n+1]);return t}function w(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var b,k,T,C,E,j=this,A=Math.floor(1e6*Math.random()),q=(Function.prototype,/^((http:|https:|file:|chrome\-extension:|chrome:)\/\/([^:\/\s]+)(:\d+)*)/),I=/[\-\w]+\/\.\.\//,R=/([^:])\/\//g,x="Stripe",N={},O="stripeXDM_",D=!1;if(a(e,"addEventListener"))C=function(e,t,r){e.addEventListener(t,r,!1)},E=function(e,t,r){e.removeEventListener(t,r,!1)};else{if(!a(e,"attachEvent"))throw new Error("Browser not supported");C=function(e,t,r){e.attachEvent("on"+t,r)},E=function(e,t,r){e.detachEvent("on"+t,r)}}var P,M=!1,L=[];if("readyState"in t?(P=t.readyState,M="complete"==P||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==P||"interactive"==P)):M=!!t.body,!M){if(a(e,"addEventListener"))C(t,"DOMContentLoaded",c);else if(C(t,"readystatechange",function(){"complete"==t.readyState&&c()}),t.documentElement.doScroll&&e===top){var F=function(){if(!M){try{t.documentElement.doScroll("left")}catch(e){return void n(F,1)}c()}};F()}C(e,"load",c)}var U=function(e){e=e.substring(1).split("&");for(var t,r={},n=e.length;n--;)t=e[n].split("="),r[t[0].replace(/^stripe_/,"")]=i(t[1]);return r}(/stripe_xdm_e=/.test(r.search)?r.search:r.hash),H=function(){return Stripe.JSON};g(N,{version:"2.4.19.3",query:U,stack:{},apply:g,getJSONObject:H,whenReady:u}),N.DomHelper={on:C,un:E},function(){var e={};N.Fn={set:function(t,r){e[t]=r},get:function(t,r){if(e.hasOwnProperty(t)){var n=e[t];return r&&delete e[t],n}}}}(),N.Socket=function(e){var t=S(_(e).concat([{incoming:function(t,r){e.onMessage(t,r)},callback:function(t){e.onReady&&e.onReady(t)}}])),r=f(e.remote);this.origin=f(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,r)},t.init()},N.stack.FlashTransport=function(e){function i(e){n(function(){s.up.incoming(e,m)},0)}function a(r){var n=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(1e4*Math.random());N.Fn.set("flash_loaded"+r.replace(/[\-.]/g,"_"),function(){N.stack.FlashTransport[r].swf=v=_.firstChild;for(var e=N.stack.FlashTransport[r].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?_="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(_=t.createElement("div"),g(_.style,T&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(_));var a="callback=flash_loaded"+o(r.replace(/[\-.]/g,"_"))+"&proto="+j.location.protocol+"&domain="+o(l(j.location.href))+"&port="+o(p(j.location.href))+"&ns="+o(x);_.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+n+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+n+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+n+"' height='1' width='1'></embed></object>"}var s,c,m,v,_;return s={outgoing:function(t,r,n){v.postMessage(e.channel,t.toString()),n&&n()},destroy:function(){try{v.destroyChannel(e.channel)}catch(t){}v=null,c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){m=e.remote,N.Fn.set("flash_"+e.channel+"_init",function(){n(function(){s.up.callback(!0)})}),N.Fn.set("flash_"+e.channel+"_onMessage",i),e.swf=d(e.swf);var t=l(e.swf),o=function(){N.stack.FlashTransport[t].init=!0,v=N.stack.FlashTransport[t].swf,v.createChannel(e.channel,e.secret,f(e.remote),e.isHost),e.isHost&&(T&&e.swfNoThrottle&&g(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),g(e.props,{src:h(e.remote,{xdm_e:f(r.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:O+e.channel+"_provider"}),c=y(e))};N.stack.FlashTransport[t]&&N.stack.FlashTransport[t].init?o():N.stack.FlashTransport[t]?N.stack.FlashTransport[t].queue.push(o):(N.stack.FlashTransport[t]={queue:[o]},a(t))},init:function(){u(s.onDOMReady,s)}}},N.stack.PostMessageTransport=function(t){function i(e){if(e.origin)return f(e.origin);if(e.uri)return f(e.uri);if(e.domain)return r.protocol+"//"+e.domain;throw new Error("Unable to retrieve the origin of the event")}function o(e){var r=i(e);r==l&&"string"==typeof e.data&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),r)}var a,s,c,l;return a={outgoing:function(e,r,n){try{c.postMessage(t.channel+" "+e,r||l),n&&n()}catch(i){t.onInternalError&&t.onInternalError.call(t,"CallerWindowError")}},destroy:function(){E(e,"message",o),s&&(c=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(l=f(t.remote),t.isHost){var i=function(r){r.data==t.channel+"-ready"&&(c="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,E(e,"message",i),C(e,"message",o),n(function(){a.up.callback(!0)},0))};C(e,"message",i),g(t.props,{src:h(t.remote,{xdm_e:f(r.href),xdm_c:t.channel,xdm_p:1}),name:O+t.channel+"_provider"}),s=y(t)}else C(e,"message",o),c="postMessage"in e.parent?e.parent:e.parent.document,c.postMessage(t.channel+"-ready",l),n(function(){a.up.callback(!0)},0)},init:function(){u(a.onDOMReady,a)}}},N.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void w(r);if(!c&&0!==s.length&&!a){c=!0;var i=s.shift();r.down.outgoing(i.data,i.origin,function(e){c=!1,i.callback&&n(function(){i.callback(e)},0),t()})}}var r,a,s=[],c=!0,u="",l=0,p=!1,f=!1;return r={init:function(){m(e)&&(e={}),e.maxLength&&(l=e.maxLength,f=!0),e.lazy?p=!0:r.down.init()},callback:function(e){c=!1;var n=r.up;t(),n.callback(e)},incoming:function(t,n){if(f){var o=t.indexOf("_"),a=parseInt(t.substring(0,o),10);u+=t.substring(o+1),0===a&&(e.encode&&(u=i(u)),r.up.incoming(u,n),u="")}else r.up.incoming(t,n)},outgoing:function(n,i,a){e.encode&&(n=o(n));var c,u=[];if(f){for(;0!==n.length;)c=n.substring(0,l),n=n.substring(c.length),u.push(c);for(;c=u.shift();)s.push({data:u.length+"_"+c,origin:i,callback:0===u.length?a:null})}else s.push({data:n,origin:i,callback:a});p?r.down.init():t()},destroy:function(){a=!0,r.down.destroy()}}},Stripe.easyXDM=N}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.isDoubleLoaded||(this.Stripe.utils=function(){function t(){}var r;return r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(r,"")},t.serialize=function(e,t,r){var n,i,o;null==t&&(t=[]);try{for(i in e)o=e[i],r&&(i=""+r+"["+i+"]"),"object"==typeof o?this.serialize(o,t,i):t.push(""+i+"="+encodeURIComponent(o));return t.join("&").replace(/%20/g,"+")}catch(a){throw n=a,new Error("Unable to serialize: "+e)}},t.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace(/-/g,"_")},t.underscoreKeys=function(e){var t,r,n;n=[];for(t in e)r=e[t],delete e[t],n.push(e[this.underscore(t)]=r);return n},t.isElement=function(e){return"object"!=typeof e?!1:e.jquery?!0:1===e.nodeType},t.paramsFromForm=function(t,r){var n,i,o,a,s,c,u,l,p,f;for(null==r&&(r=[]),t.jquery&&(t=t[0]),o=t.getElementsByTagName("input"),s=t.getElementsByTagName("select"),c={},u=0,p=o.length;p>u;u++)i=o[u],n=this.underscore(i.getAttribute("data-stripe")),e.call(r,n)<0||(c[n]=i.value);
for(l=0,f=s.length;f>l;l++)a=s[l],n=this.underscore(a.getAttribute("data-stripe")),e.call(r,n)<0||null!=a.selectedIndex&&(c[n]=a.options[a.selectedIndex].value);return c},t.validateProtocol=function(e){var t;return e&&"string"==typeof e&&/_live_/g.test(e)&&"https:"!==window.location.protocol&&null!=(null!=(t=window.console)?t.warn:void 0)?window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl"):void 0},t.validateKey=function(e){if(!e||"string"!=typeof e)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t.parseExpString=function(e){var t,r,n,i,o,a,s,c,u;for(a=function(t){throw new Error("You passed an invalid expiration date `"+e+"`. "+(t||"")+"Please pass a string containing a numeric month and year such as `01-17` or `2015 / 05` For more info, see https://stripe.com/docs/stripe.js")},"string"!=typeof e&&a(),o=e.split(/[\.\-\/\s]+/g),2!==o.length&&a(),t=c=0,u=o.length;u>c;t=++c)i=o[t],n=parseInt(i),isNaN(n)&&a(""+o+" is not a number. "),1>n&&a(""+n+" is less than one. "),o[t]=n;return o[0]>12?(s=o[0],r=o[1]):(r=o[0],s=o[1]),r>12&&a("Month must be a number 1-12, not "+r),100>s&&(s+=2e3),[r,s]},t}())}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.isDoubleLoaded||(this.Stripe.ajaxJSONP=function(r){var n,i,o,a,s,c,u;return null==r&&(r={}),o="sjsonp"+ ++e,c=document.createElement("script"),i=null,n=function(e){var t;return null==e&&(e="abort"),clearTimeout(i),null!=(t=c.parentNode)&&t.removeChild(c),o in window&&(window[o]=function(){}),"function"==typeof r.complete?r.complete(e,u,r):void 0},u={abort:n},c.onerror=function(){return u.abort(),"function"==typeof r.error?r.error(u,r):void 0},window[o]=function(){var e,n;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(i),c.parentNode.removeChild(c);try{delete window[o]}catch(a){n=a,window[o]=void 0}return"function"==typeof r.success&&r.success.apply(r,t.call(e).concat([u])),"function"==typeof r.complete?r.complete("success",u,r):void 0},s=(r.headers||{})["Accept-Language"],r.data||(r.data={}),r.data.callback=o,r.method&&(r.data._method=r.method),s&&(r.data._accept_language=s),c.src=r.url+"?"+Stripe.utils.serialize(r.data),a=document.getElementsByTagName("head")[0],a.appendChild(c),r.timeout>0&&(i=setTimeout(function(){return u.abort("timeout")},r.timeout)),u})}.call(this),function(){var e,t,r,n,i,o,a,s,c,u={}.hasOwnProperty;this.Stripe.isDoubleLoaded||(t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},a=/^(20\d|1223)$/,o="invalid_json_response",n=function(e,t,r){return function(){return e._aborted?r(e.request,"abort"):e.request&&4===e.request.readyState?(e.request.onreadystatechange=function(){},0===e.request.status?r(e.request,"empty_response"):a.test(e.request.status)?t(e.request,e.request.status):t(e.request,e.request.status)):void 0}},s=function(e,r){var n,i,o,a,s;o=r.headers||{},o.Accept||(o.Accept=t.accept.json),o["Content-Type"]||(o["Content-Type"]=t.contentType),a=r._globalCustomHeaders;for(n in a)u.call(a,n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r._globalCustomHeaders[n]);s=[];for(i in o)u.call(o,i)&&s.push("setRequestHeader"in e?e.setRequestHeader(i,o[i]):void 0);return s},c=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},r=function(e,t){var r,i,o,a,u,l,p,f,d;l=this.o,u=(l.method||"GET").toUpperCase(),p=l.url,a=null!=(f=l.data)?f.key:void 0,r=Stripe.utils.serialize(l.data),o=void 0,"GET"===u&&r&&(p=c(p,r),r=null),d=new XMLHttpRequest,d.open(u,p,!0),s(d,l),d.onreadystatechange=n(this,e,t);try{d.send(r)}catch(h){i=h,Stripe.reportError("XHR-"+i.toString()),t(d,"xhr_send_failure")}return d},e=function(e){return this.o=e,i.apply(this,arguments)},i=function(e){var t,n,i;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(e){return function(){return e.abort()}}(this),e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){return function(r,n){var i;for(e.timeout&&clearTimeout(t.timeout),t.timeout=null,i=[];t._completeHandlers.length>0;)i.push(t._completeHandlers.shift()(n,r,e));return i}}(this),i=function(e){return function(r,i){var a,s,c;if(c=r.responseText,!c||!c.length)return n(r,"empty_response");try{return s=Stripe.JSON.parse(c),e._successHandler(s,i,r),t(s,"success")}catch(u){return a=u,n(r,o)}}}(this),n=function(e){return function(t,r){var n,i,a;if(a=t.responseText,i=void 0,a&&a.length&&r!==o)try{i=Stripe.JSON.parse(a)}catch(s){n=s,r=r+"_AND_"+o}for(;e._errorHandlers.length>0;)e._errorHandlers.shift()(i||t,r);return Stripe.reportError(r),Stripe._fallBackToOldStripeJsTechniques(),Stripe.request(e.o,!0)}}(this),this.request=r.call(this,i,n)},e.prototype={abort:function(){var e;return this._aborted=!0,null!=(e=this.request)?e.abort():void 0}},this.Stripe.xhr=function(t){return t._globalCustomHeaders=this._customHeaders,new e(t)})}.call(this),function(){var e,t,r,n={}.hasOwnProperty;this.Stripe.isDoubleLoaded||(e=function(e){return this.options=e,e.requestId=Stripe._callCount,e.endpoint=Stripe.endpoint,e.trackPerf=Stripe.trackPerf,this.iframeTimeout=setTimeout(function(){return Stripe._fallBackToOldStripeJsTechniques(),Stripe._iframePendingRequests[e.requestId]&&(Stripe.request(Stripe._iframePendingRequests[e.requestId],!0),delete Stripe._iframePendingRequests[e.requestId]),Stripe._callCache[e.requestId]=function(){return Stripe.reportError("TimeoutEventualReturnError")}},1e4),Stripe._iframePendingRequests[e.requestId]=e,Stripe._callCache[e.requestId]=function(t){return function(){return clearTimeout(t.iframeTimeout),delete Stripe._iframePendingRequests[e.requestId],e.success.apply(e,arguments),"function"==typeof e.complete?e.complete("success",null,e):void 0}}(this),Stripe._callCount+=1,Stripe._socket.postMessage(Stripe.JSON.stringify(e))},this.Stripe.iframe=function(t){return new e(t)},t=Stripe.easyXDM,this.Stripe._isChannel?Stripe._socket=new t.Socket({swf:""+Stripe._iframeBaseUrl+"/v2/stripexdm.swf",onMessage:Stripe._channelListener}):Stripe._isSafeDomain||(r=function(e){var t,n,i;"console"in window&&"warn"in window.console,Stripe._iframeChannelComplete.call(Stripe,!1),Stripe._callCache={},Stripe.reportError("FB-"+e),n=document.createElement("script"),i=Math.round((new Date).getTime()/1e3),n.src=""+Stripe._iframeBaseUrl+"/v2/cspblocked.js?domain="+encodeURIComponent(document.location.href)+"&timestamp="+i+"&info="+encodeURIComponent(e)+"&payment_user_agent="+encodeURIComponent(Stripe.stripejs_ua),t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t),r=function(){}},Stripe._socket=new t.Socket({swf:""+Stripe._iframeBaseUrl+"/v2/stripexdm.swf",remote:""+Stripe._iframeBaseUrl+"/v2/channel"+(Stripe.accountDetails?"-provisioning":"")+".html#__stripe_transport__",onMessage:Stripe._receiveChannelRelay,ackTimeoutDuration:1e4,onLoad:function(){return this._socketLoadTime=+new Date,this.onError=function(){},this.onAsyncInject=function(){},clearTimeout(this.injectTimeout),this._socketAckTime?this.loadTimeout?(clearTimeout(this.loadTimeout),Stripe._iframeChannelComplete.call(Stripe,!0)):Stripe.reportError("LoadDelayError",this._socketLoadTime-this._socketAckTime):this.ackTimeout=setTimeout(function(e){return function(){return e.onFrameAck=function(){},clearTimeout(e.loadTimeout),r("AckTimeoutError")}}(this),this.ackTimeoutDuration)},onError:function(){return this.onLoad=function(){},this.onAsyncInject=function(){},this.onFrameAck=function(){},clearTimeout(this.ackTimeout),clearTimeout(this.injectTimeout),clearTimeout(this.loadTimeout),r("IframeOnError")},onInternalError:function(e){var t,r,i;this.onError=function(){},this.onLoad=function(){},this.onFrameAck=function(){},this.onAsyncInject=function(){},clearTimeout(this.ackTimeout),clearTimeout(this.loadTimeout),clearTimeout(this.injectTimeout),Stripe.reportError("FB-XDM-"+e),Stripe._fallBackToOldStripeJsTechniques(),i=Stripe._iframePendingRequests;for(t in i)n.call(i,t)&&(r=i[t],Stripe._callCache[r.requestId]=function(){},delete Stripe._iframePendingRequests[r.requestId],Stripe.request(r,!0))},onAsyncInject:function(){return this.injectTimeout=setTimeout(function(e){return function(){return e.onError=function(){},e.onLoad=function(){},e.onFrameAck=function(){},clearTimeout(e.ackTimeout),clearTimeout(e.loadTimeout),r("InjectTimeoutError")}}(this),this.ackTimeoutDuration)},onFrameAck:function(){return this._socketAckTime=+new Date,clearTimeout(this.ackTimeout),clearTimeout(this.injectTimeout),this.onAsyncInject=function(){},this.onError=function(){},this.ackTimeout?Stripe._iframeChannelComplete.call(Stripe,!0):this._socketLoadTime?(this.onLoad=function(){},Stripe.reportError("AckDelayError",this._socketAckTime-this._socketLoadTime)):this.loadTimeout=setTimeout(function(e){return function(){return r("LoadTimeoutError"),e.onLoad=function(){}}}(this),this.ackTimeoutDuration)}})))}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.isDoubleLoaded||(this.Stripe.validator={"boolean":function(e,t){return"true"!==t&&"false"!==t?"Enter a boolean string (true or false)":void 0},integer:function(e,t){return/^\d+$/.test(t)?void 0:"Enter an integer"},positive:function(e,t){return!this.integer(e,t)&&parseInt(t,10)>0?void 0:"Enter a positive value"},range:function(t,r){var n;return n=parseInt(r,10),e.call(t,n)<0?"Needs to be between "+t[0]+" and "+t[t.length-1]:void 0},required:function(e,t){return!e||null!=t&&""!==t?void 0:"Required"},year:function(e,t){return/^\d{4}$/.test(t)?void 0:"Enter a 4-digit year"},birthYear:function(e,t){var r;return r=this.year(e,t),r?r:parseInt(t,10)>2e3?"You must be over 18":parseInt(t,10)<1900?"Enter your birth year":void 0},month:function(e,t){return this.integer(e,t)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],t)?"Needs to be between 1 and 12":void 0},choices:function(t,r){return e.call(t,r)<0?"Not an acceptable value for this field":void 0},email:function(e,t){return/^[^@<\s>]+@[^@<\s>]+$/.test(t)?void 0:"That doesn't look like an email address"},url:function(e,t){return/^https?:\/\/.+\..+/.test(t)?void 0:"Not a valid url"},usTaxID:function(e,t){return/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t)?void 0:"Not a valid tax ID"},ein:function(e,t){return/^\d{2}-?\d{7}$/.test(t)?void 0:"Not a valid EIN"},ssnLast4:function(e,t){return/^\d{4}$/.test(t)?void 0:"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var r;return r=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}(),r?void 0:"Not a valid ID"},bizTaxID:function(e,t){var r,n,i,o,a,s,c,u;if(s={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},a=s[e],null!=a){for(r=a[0],o=a[1],n=!1,c=0,u=o.length;u>c;c++)if(i=o[c],i.test(t)){n=!0;break}if(!n)return"Not a valid "+r}},zip:function(e,t){var r;return r=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(null!=t?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}(),r?void 0:"Not a valid zip"},bankAccountNumber:function(e,t){return/^\d{1,17}$/.test(t)?void 0:"Invalid bank account number"},usRoutingNumber:function(e){var t,r,n,i,o,a,s;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";for(o=0,t=a=0,s=e.length-1;s>=a;t=a+=3)r=3*parseInt(e.charAt(t),10),n=7*parseInt(e.charAt(t+1),10),i=parseInt(e.charAt(t+2),10),o+=r+n+i;return 0===o||o%10!==0?"Invalid routing number":void 0},caRoutingNumber:function(e){return/^\d{5}\-\d{3}$/.test(e)?void 0:"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var r;return r=t.replace(/[^0-9]/g,""),10!==r.length?"Invalid phone number":void 0},bizDBA:function(e,t){return/^.{1,23}$/.test(t)?void 0:"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){return 1===t.length?"Names need to be longer than one character":void 0}})}.call(this);