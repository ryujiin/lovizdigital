function getCookie(e){var t=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var r=jQuery.trim(o[n]);if(r.substring(0,e.length+1)==e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function sameOrigin(e){var t=document.location.host,o=document.location.protocol,n="//"+t,r=o+n;return e==r||e.slice(0,r.length+1)==r+"/"||e==n||e.slice(0,n.length+1)==n+"/"||!/^(\/\/|http:|https:).*/.test(e)}var csrftoken=getCookie("csrftoken");$.ajaxSetup({beforeSend:function(e,t){!csrfSafeMethod(t.type)&&sameOrigin(t.url)&&e.setRequestHeader("X-CSRFToken",csrftoken)}});